<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>점심메뉴</title>
    <link rel="stylesheet" href="css/food.css">
</head>
<body>
    <!-- 사진을 띄우는 메뉴 -->
    <div id="photoSection">
        <ul>
            <li><a href="#" onclick="changeFd('국밥')">국밥</a></li>
            <li><a href="#" onclick="changeFd('랍스타')">랍스타</a></li>
            <li><a href="#" onclick="changeFd('스테이크')">스테이크</a></li>
        </ul>

        <!-- 선택된 메뉴에 맞는 이미지를 보여줄 img 태그 -->
        <div id="result" style="margin-top: 20px;">
            <img id="foodImage" src="images/defualt.jpg" alt="메뉴 이미지"              
            style="width: 500px; height: 400px; object-fit: cover; display: none;">
            <p id="foodDescription" style="margin-top: 10px; font-size: 18px; display: none;"></p>
        </div>
    </div>

    <hr>

    <!-- 목록을 추가하고 삭제하는 부분 -->
    <div id="listSection">
        <h1>점심 메뉴</h1>
        <p>점심 메뉴를 적어보세요</p>
        <p>먹기 싫은 메뉴는 삭제할 수 있습니다.</p>
        <form action="">
            <input type="text" id="subject" autofocus>
            <button onclick="newRegister(); return false;">추가</button>
        </form>
        <hr>
        <ul id="itemList"></ul>
    </div>

    <script>
        // 메뉴 클릭시 사진 변경 함수
        function changeFd(food) {
            var imgElement = document.querySelector('#foodImage');
            var descElement = document.querySelector('#foodDescription');
            var imgSrc = ''; // imgSrc 변수를 선언
            var description = ''; //description 변수 선언
            if (food === '국밥') {
                imgSrc = 'images/gukbap.jpg'; // 국밥 이미지 경로
                description = '국밥 / 9000원';
            } else if (food === '랍스타') {
                imgSrc = 'images/lobster.jpg'; // 랍스타 이미지 경로
                description = '랍스타 / 50000원';
            } else if (food === '스테이크') {
                imgSrc = 'images/steak.jpg'; // 스테이크 이미지 경로
                description = '스테이크 45000원';
            }

            // 이미지 src 변경 및 표시
            imgElement.src = imgSrc;
            imgElement.style.display = 'block'; // 이미지 표시
            descElement.textContent = description;
            descElement.style.display = 'block';
        }

        // 목록에 항목 추가 및 삭제하는 함수
        function newRegister() {
            var newItem = document.createElement("li");  // 요소 노드 추가 
            var subject = document.querySelector("#subject");  // 폼의 텍스트 필드
            var newText = document.createTextNode(subject.value);  // 텍스트 노드로 만들기
            newItem.appendChild(newText);  // 텍스트 노드를 요소 노드의 자식 노드로 추가

            var itemList = document.querySelector("#itemList");  // 부모 노드 가져오기 
            itemList.insertBefore(newItem, itemList.childNodes[0]);  // 첫번째 노드 앞에 추가

            subject.value = "";  // 입력 필드 초기화

            // 항목 클릭하면 삭제
            newItem.addEventListener("click", function() {
                if (this.parentNode) {
                    this.parentNode.removeChild(this);  // 부모 노드에서 삭제
                }
            });
        }
    </script>
</body>
</html>
